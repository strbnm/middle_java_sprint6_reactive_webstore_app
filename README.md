### Приложение-блог с использованием Spring Framework

Проект приложения "Витрина интернет-магазина", созданный при помощи Spring Data и Spring Web: Reactive Stack в рамках выполнения задания спринта 6 курса Middle-Java Яндекс.Практикум.
- Spring Boot 3.4.1
- R2DBC
- WebFlux
- Thymeleaf
- Lombok

#### Сборка приложения

Перед сборкой приложения, при необходимости, откорректировать файл свойств для prod и переименовать файл в
`application-prod.yaml`:

 - [application-prod.example.yml](src/main/resources/application-prod.example.yml).

`app.product.image.dir` - директория для сохранения файлов изображений. При запуске в Docker оставить `/opt/images`.
При локальном запуске указать абсолютный путь к директории.

Для сборки приложения использовать команду
```shell
./gradlew build
```

Для сборки исполняемого JAR использовать команду:
```shell
./gradlew bootJar
```
Исполняемый файл будет доступен в директории `./build/libs/`

#### Деплой и запуск приложения в Docker

Для запуска приложения в Docker после выполнения сборки выполнить следующую команду в корневом каталоге:
```shell
docker compose up -d --build
```
После запуска контейнеров сайт приложения будет доступен по адресу: `localhost:8080/` или `localhost:8080/products`

#### Локальный запуск

Для локального запуска web-приложения выполнить команду:
```shell
java -D"spring.profiles.active=local" -jar build/libs/sprint6-practicum-homework-1.0.0.jar
```
Предварительно должна быть запущена база данных, которая будет использоваться web-приложением и уточнены параметры 
подключения к базе данных в файле свойств [application-local.yaml](src/main/resources/application-local.yml).

#### Загрузка информации о товарах

Информация о товарах загружается в БД как часть миграции из файла
CSV [Файл с товарами](src/main/resources/db/data/products.csv).
Изображения для товаров должны быть сохранены в директорию, указанную в свойстве `app.product.image.dir`.
В рамках проекта для проверки его функциональности при запуске приложения в docker загружается 100 произвольно
сгенерированных товаров и изображения для них.

